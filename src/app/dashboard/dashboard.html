<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>Dashboard Overview</h1>
    <button mat-raised-button color="primary" (click)="refreshDashboard()">
      <mat-icon>refresh</mat-icon>
      Refresh
    </button>
  </div>

  <div *ngIf="isLoading" class="loading">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    <p>Loading dashboard data...</p>
  </div>

  <div *ngIf="!isLoading" class="dashboard-content">
    <!-- Statistics Cards -->
    <div class="stats-grid">
      <mat-card class="stat-card">
        <mat-card-header>
          <mat-card-title>Total Orders</mat-card-title>
          <mat-icon mat-card-avatar color="primary">inventory</mat-icon>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-number">{{ stats.totalOrders }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card class="stat-card">
        <mat-card-header>
          <mat-card-title>Pending</mat-card-title>
          <mat-icon mat-card-avatar color="warn">schedule</mat-icon>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-number">{{ stats.pendingOrders }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card class="stat-card">
        <mat-card-header>
          <mat-card-title>In Progress</mat-card-title>
          <mat-icon mat-card-avatar color="accent">build</mat-icon>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-number">{{ stats.inProgressOrders }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card class="stat-card">
        <mat-card-header>
          <mat-card-title>Completed</mat-card-title>
          <mat-icon mat-card-avatar color="primary">check_circle</mat-icon>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-number">{{ stats.completedOrders }}</div>
        </mat-card-content>
      </mat-card>
    </div>

    <!-- Progress Bar -->
    <mat-card class="progress-card">
      <mat-card-header>
        <mat-card-title>Completion Progress</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="progress-info">
          <span>{{ getCompletionPercentage().toFixed(1) }}% Complete</span>
          <span>{{ stats.completedOrders }} / {{ stats.totalOrders }} Orders</span>
        </div>
        <mat-progress-bar 
          mode="determinate" 
          [value]="getCompletionPercentage()"
          color="primary">
        </mat-progress-bar>
      </mat-card-content>
    </mat-card>

    <!-- Recent Orders -->
    <mat-card class="recent-orders-card">
      <mat-card-header>
        <mat-card-title>Recent Orders</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div *ngIf="recentOrders.length === 0" class="no-data">
          <p>No orders found</p>
        </div>
        
        <div *ngFor="let order of recentOrders" class="order-item">
          <div class="order-info">
            <strong>{{ order.orderNumber }}</strong>
            <span>{{ order.productName }}</span>
            <span class="customer">{{ order.customerName }}</span>
          </div>
          <div class="order-status">
            <mat-chip [color]="getStatusColor(order.status)" selected>
              {{ order.status }}
            </mat-chip>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>